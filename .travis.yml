---
#
# Ansible managed
#
language: python

python:
  - "3.7"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="fedora" tag="rawhide"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    secure: xHd+1NWJwdjYFeYBg6W2Y3wRMSh3P2aqAhcHOBstqYGp+KZ4ft0DPWKhmgzGjZ3hp7x5twewBCRUQBpRQj9gw7FVXN7OwW1V+vNITnAzxc4idHw6nbr1K9Iyt4ieLSXmP0dAG6JsKDYzGt0IWpgpONBbOfWsLt3novSSMi+qpwawDzzl/S9hfNKXgLVckLaubqELz4eGpsFdy7HYqMMwNE8psN+mkXpmBlInxG0VvJPSlqq/Rrnbzyxvt4S7CzTOt+1PZ6+c/canMGFqDgpfoV99dGTKpRswEbmfA2A25xztFhreVPgYr8CGd7/GuTuDRtjDDiseOCK49v104PLGBxRC8ySMeyCEoecGj8aMwZ6EQ7QLRYsQn9H9ys8isPtXiWbfiXhg0z1BuVrwwKxIRC900qoS0O4OlRHtqvI5n7s9fHcmITRabsIfcwlJFxF35kTYXLDVgDF5Ou3MonaIMjRqsk29sNkBkBbrMw8zdjZdq2BNLGZT34VzA/5Qptu0OjbZL4i9Gv5rvMQWMmB3khdDo7kuvWkW1tnTf9o5WU3zjgQXlQ5etGgTrNGBv6u5N21meL62zMv6YDc2h+ilp8rDxUbcO+jNARw4m9ae5TZfew/bNmQ/PELva51+/7L+HPT0VR2LH7+lP2XzGCK85u8Svj4mtc9pF3NjCAA5eKQ=
  email: false
